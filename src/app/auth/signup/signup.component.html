<section id="login">
  <div class="container">
    <div class="row">
      <div class="col-xs-12">
        <div class="form-wrap">
          <hr>
          <h1>Registrarse</h1>
          <form [formGroup]="signupForm" id="login-form" >
            <div class="has-error">
              <span 
                *ngIf="failed"
                class="help-block">Ocurrio un error en el registro</span>
            </div>
            <div class="form-group" [ngClass]="{ 'has-error': !signupForm.get('razon_social').valid && signupForm.get('razon_social').touched }">
              <label for="razon">Razon Social</label>
              <input type="text" formControlName="razon_social" id="razon" class="form-control" placeholder="Razon Social">
              <span 
                *ngIf="!signupForm.get('razon_social').valid && signupForm.get('razon_social').touched"
                class="help-block">Ingrese la razon social</span>
            </div>
            <div class="form-group" [ngClass]="{ 'has-error': !signupForm.get('telefono').valid && signupForm.get('telefono').touched }">
              <label for="telefono">Telefono</label>
              <input type="number" formControlName="telefono" id="telefono" class="form-control" placeholder="Telefono">
              <span 
                *ngIf="!signupForm.get('telefono').valid && signupForm.get('telefono').touched"
                class="help-block">Ingrese un telefono</span>
            </div>
            <div class="form-group" [ngClass]="{ 'has-error': !signupForm.get('email').valid && signupForm.get('email').touched }">
              <label for="email">Email</label>
              <input type="text" formControlName="email" id="email" class="form-control" placeholder="somebody@example.com">
              <span 
                *ngIf="!signupForm.get('email').valid && signupForm.get('email').touched"
                class="help-block">
                <span *ngIf="signupForm.get('email').errors != null ? signupForm.get('email').errors['emailIsForbidden'] : false">Este email esta siendo usado</span>
                <span *ngIf="signupForm.get('email').errors != null ? signupForm.get('email').errors['required'] : false">Este campo es requerido. </span>
                <span *ngIf="signupForm.get('email').errors != null ? signupForm.get('email').errors['email'] : false">Ponga un e-mail valido</span>
              </span>
            </div>
            <div class="form-group" [ngClass]="{ 'has-error': !signupForm.get('username').valid && signupForm.get('username').touched }">
              <label for="username">Nombre de usuario</label>
              <input type="text" formControlName="username" id="username" class="form-control" placeholder="somebody">
              <span 
                *ngIf="!signupForm.get('username').valid && signupForm.get('username').touched"
                class="help-block">
                <span *ngIf="signupForm.get('username').errors != null ? signupForm.get('username').errors['usernameIsForbidden'] : false">This username is already in use!</span>
                <span *ngIf="signupForm.get('username').errors != null ? signupForm.get('username').errors['required'] : false">Este campo es requerido. </span>
              </span>
            </div>
            <div class="form-group" [ngClass]="{ 'has-error': !signupForm.get('direccion').valid && signupForm.get('direccion').touched }">
              <label for="direccion">Direccion</label>
              <input type="text" formControlName="direccion" id="direccion" class="form-control" placeholder="Lugar">
              <span 
                *ngIf="!signupForm.get('direccion').valid && signupForm.get('direccion').touched"
                class="help-block">Ingrese una direccion</span>
            </div>
            <div class="form-group">
              <label for="key">Password</label>
              <input type="password" formControlName="password1" id="key" class="form-control" placeholder="Password">
            </div>
            <div class="form-group" [ngClass]="{ 'has-error': !signupForm.get('password2').valid && signupForm.get('password2').touched }">
              <label for="key2">Repita su password</label>
              <input type="password" formControlName="password2" id="key2" class="form-control" placeholder="Password">
              <span 
                *ngIf="!signupForm.get('password2').valid && signupForm.get('password2').touched"
                class="help-block">
                <span *ngIf="signupForm.get('password2').errors != null ? signupForm.get('password2').errors['MatchPassword'] : false">Las contrasenas no coinciden</span>
                <span *ngIf="signupForm.get('password2').errors != null ? signupForm.get('password2').errors['required'] : false">Este campo es requerido. </span>
              </span>
            </div>
            <button type="submit" [disabled]="!signupForm.valid" id="btn-login" class="btn btn-custom btn-lg btn-block" (click)="onSubmit()">Registrarse</button>
          </form>
          <a routerLink="/login" class="forget" >Ya tengo cuenta. Iniciar Sesion</a>
          <hr>
          <!--<a class="forget" data-toggle="modal" data-target=".forget-modal">Forgot your password?</a>-->
          <hr>
        </div>
    	</div> <!-- /.col-xs-12 -->
    </div> <!-- /.row -->
  </div> <!-- /.container -->
</section>